##
# This file should modify the following variables
# as appropriate:
#   - CFLAGS
#   - CFLAGS_GTEST

ifeq (g++,$(CC_TYPE))
  CFLAGS += -Wno-unused-function
  VERSION := $(CC_MAJOR).$(CC_MINOR)
  ifeq (4.2,$(CC_MAJOR).$(CC_MINOR))
    TEMPLATE_DEPTH ?= 256
    CFLAGS += -ftemplate-depth-$(TEMPLATE_DEPTH)
  endif
endif

ifeq (clang++,$(CC_TYPE))
  CFLAGS += -Wno-unknown-warning-option
  CFLAGS += -Wno-unused-function
  CFLAGS += -Wno-tautological-compare
  CFLAGS += -Wsign-compare
  CFLAGS += -Wno-unused-local-typedef

  #https://stackoverflow.com/questions/19774778/when-is-it-necessary-to-use-use-the-flag-stdlib-libstdc
  #for OSX before mavericks, specifically, but fine for post-mavericks too
  CXXFLAGS += -stdlib=libc++
  #PCH = .pch
  ifeq (4.2,$(CC_MAJOR).$(CC_MINOR))
    TEMPLATE_DEPTH ?= 256
    CFLAGS += -ftemplate-depth=$(TEMPLATE_DEPTH)
  endif
endif
